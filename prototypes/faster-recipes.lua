--- faster-recipes.lua

local debug_errors = false

local recipe_speed_multipliers = {
    ["stone-brick"] = 2,
    ["bricks-to-stone"] = 2,
    ["stone-to-gravel"] = 2,
    ["gravel-to-sand"] = 2,
    ["extract-limestone-01"] = 4,
    ["cellulose-00"] = 4,
    ["saline-water"] = 4,
    ["gravel-saline-water"] = 4,
    ["clay"] = 2,
    ["soil"] = 2,
    ["muddy-sludge"] = 2,
    ["formica"] = 2,
    ["sand-void-glass"] = 2,
    ["glass-1"] = 2,
    ["glass-2"] = 2,
    ["glass-3"] = 2,
    ["distilled-raw-coal"] = 2,
    ["tar-refining"] = 2,
    ["light-oil-aromatics"] = 2,
    ["pitch-refining"] = 2,
    ["coke-co2"] = 2,
    ["coke-coal"] = 3,
    ["anthracene-gasoline-cracking"] = 2,
    ["anthracene-gasoline-hydrogenation"] = 2,
    ["hydrogen"] = 4,
    ["purest-nitrogen-gas"] = 4,
    ["pressured-air"] = 2,
    ["purest-nitrogen-void"] = 4,
    ["calcium-carbide"] = 2,
    ["acetylene"] = 2,
    ["syngas"] = 3,
    ["syngas2"] = 3,
    ["agar"] = 3,
    ["petri-dish"] = 3,
    ["petri-dish-bacteria"] = 3,
    ["grade-2-copper"] = 2,
    ["grade-1-copper-crush"] = 2,
    ["grade-1-iron-crush"] = 2,
    ["iron-plate"] = 2,
    ["low-grade-smelting-iron"] = 2,
    ["copper-plate"] = 2,
    ["steel-plate"] = 3,
    ["tin-plate-1"] = 2,
    ["tin-plate-2"] = 2,
    ["tin-plate-4"] = 2,
    ["zinc-plate-1"] = 2,
    ["lead-plate-1"] = 2,
    ["lead-plate-2"] = 2,
    ["titanium-plate-1"] = 2,
    ["titanium-plate-2"] = 2,
    ["nickel-plate-2"] = 2,
    ["grade-1-tin"] = 3,
    ["grade-2-crush-tin"] = 3,
    ["grade-1-ti"] = 2,
    ["grade-2-ti-crush"] = 2,
    ["grade-3-ti"] = 2,
    ["ti-rejects-recrush"] = 2,
    ["grade-1-zinc"] = 2,
    ["grade-1-lead"] = 2,
    ["grade-2-lead-crusher"] = 2,
    ["molten-iron-05"] = 4,
    ["molten-aluminium-01"] = 4,
    ["powdered-aluminium"] = 2,
    ["sb-grade-01"] = 2,
    ["sb-grade-02"] = 2,
    ["sb-grade-03"] = 2,
    ["sb-grade-04"] = 2,
    ["sb-oxide-01"] = 2,
    ["grade-3-copper"] = 4,
    ["copper-rejects-recrush"] = 2,
    ["grade-4-copper"] = 2,
    ["classify-low-grade"] = 3,
    ["wash-coper-low-dust"] = 3,
    ["low-grade-smelting-copper"] = 2,
    ["molten-copper-04"] = 2,
    ["grade-3-tin"] = 5,
    ["tin-ore-rejects"] = 4,
    ["wash-grade-3-tin"] = 5,
    ["ball-grade-4-tin"] = 5,
    ["grade-3-nickel"] = 3,
    ["grade-2-nickel-recrush"] = 2,
    ["molten-solder-0"] = 2,
    ["solder"] = 2,
    ["hotair-solder"] = 2,
    ["molten-zinc-01"] = 2,
    ["grade-2-iron"] = 2,
    ["iron-ore-dust"] = 2,
    ["grade-1-nickel"] = 2,
    ["grade-4-ti"] = 2,
    ["ti-enriched-dust"] = 2,
    ["grade-4-chromite"] = 2,
    ["chromite-rejects-processing"] = 2,
    ["tier-2-chromite-sand"] = 2,
    ["chromium-01"] = 2,
    ["crushed-coal"] = 2,
    ["duralumin-1"] = 2,
    ["vitreloy"] = 2,
    ["fenxsb-alloy-2"] = 4,
    ["intermetallics"] = 2,
    ["pbsb-alloy"] = 2,
    ["graphite"] = 4,
    ["warm-stone-brick-1"] = 8,
    ["warmer-stone-brick-1"] = 5,
    ["reheat-coke-gas"] = 4,
    ["cog-void-soot"] = 2,
    ["borax-washing"] = 2,
    ["creamy-latex"] = 2,
    ["sodium-alginate"] = 2,
    ["latex"] = 2,
    ["latex-slab"] = 2,
    ["carbon-black"] = 2,
    ["rubber-01"] = 4,
    ["shaft-mk01"] = 5,
    ["solder-0"] = 3,
    ["sand-washing"] = 2,
    ["muddy-sludge-void-electrolyzer"] = 2,
    ["zinc-chloride"] = 2,
    ["tar-talloil"] = 2.5,
    ["tall-oil-separation"] = 5,
    ["refined-concrete"] = 3,
    ["bio-sample"] = 4,
    ["bio-sample-icd"] = 4,
    ["stopper-2"] = 2,
    ["soil-separation-2"] = 2,
    -- TODO: Update speeds for remaining stage 4 recipes and beyond (first-pass done for plants/animals of all science stages)
    ["Moss-1"] = 4,
    ["Moss-2"] = 4,
    ["Moss-3"] = 4,
    ["Moss-4"] = 4,
    ["Moss-5"] = 4,
    ["Moss-1-chlorinated"] = 4,
    ["Moss-2-chlorinated"] = 4,
    ["Moss-3-chlorinated"] = 4,
    ["Moss-4-chlorinated"] = 4,
    ["Moss-5-chlorinated"] = 4,
    ["Moss-1-without-sludge"] = 4,
    ["Moss-2-without-sludge"] = 4,
    ["Moss-3-without-sludge"] = 4,
    ["Moss-4-without-sludge"] = 4,
    ["Moss-5-without-sludge"] = 4,
    ["Moss-1-without-sludge-for-real"] = 4,
    ["Moss-2-without-sludge-for-real"] = 4,
    ["Moss-3-without-sludge-for-real"] = 4,
    ["Moss-4-without-sludge-for-real"] = 4,
    ["Moss-5-without-sludge-for-real"] = 4,
    ["wood-seedling"] = 2,
    ["wood-seedling-turd"] = 2,
    ["log1"] = 5,
    ["log2"] = 5,
    ["log3"] = 5,
    ["log4"] = 5,
    ["log5"] = 5,
    ["log6"] = 5,
    ["log7"] = 5,
    ["log7-2"] = 5,
    ["log8"] = 5,
    ["log3-cheap"] = 5,
    ["log6-cheap"] = 5,
    ["fiber-01"] = 5,
    ["fiber-dry-storage"] = 5,
    ["kicalk-fiber"] = 4,
    ["sap-01"] = 5,
    ["moondrop-1"] = 6,
    ["moondrop-2"] = 6,
    ["moondrop-3"] = 6,
    ["moondrop-4"] = 6,
    ["moondrop-5"] = 6,
    ["moondrop-1-cu"] = 6,
    ["moondrop-2-cu"] = 6,
    ["moondrop-3-cu"] = 6,
    ["moondrop-4-cu"] = 6,
    ["moondrop-5-cu"] = 6,
    ["methane-co2"] = 6,
    ["methane-co2-with-lamp"] = 6,
    ["methane-py-fertilizer"] = 6,
    ["moondrop-co2"] = 2,
    ["seaweed-1"] = 8,
    ["seaweed-2"] = 8,
    ["seaweed-3"] = 8,
    ["seaweed-4"] = 8,
    ["seaweed-1-dry"] = 8,
    ["seaweed-2-dry"] = 8,
    ["seaweed-3-dry"] = 8,
    ["seaweed-4-dry"] = 8,
    ["vrauks-cocoon-1"] = 8,
    ["vrauks-cocoon-2"] = 8,
    ["vrauks-cocoon-3"] = 8,
    ["vrauks-cocoon-4"] = 8,
    ["vrauks-cocoon-5"] = 8,
    ["vrauks-cocoon-1-no-water"] = 8,
    ["vrauks-cocoon-2-no-water"] = 8,
    ["vrauks-cocoon-3-no-water"] = 8,
    ["vrauks-cocoon-4-no-water"] = 8,
    ["vrauks-cocoon-5-no-water"] = 8,
    ["vrauks-1"] = 8,
    ["vrauks-2"] = 8,
    ["vrauks-3"] = 8,
    ["vrauks-4"] = 8,
    ["vrauks-5"] = 8,
    ["vrauks-1-no-water"] = 8,
    ["vrauks-2-no-water"] = 8,
    ["vrauks-3-no-water"] = 8,
    ["vrauks-4-no-water"] = 8,
    ["vrauks-5-no-water"] = 8,
    ["full-render-vrauks"] = 2,
    ["full-render-vrauks-laser"] = 2,
    ["full-render-vrauks-music"] = 2,
    ["full-render-vrauks-lard"] = 2,
    ["full-render-auogs"] = 5,
    ["full-render-auogs-laser"] = 5,
    ["full-render-auogs-music"] = 5,
    ["full-render-auogs-lard"] = 5,
    ["ex-used-auog"] = 4,
    ["ex-used-auog-laser"] = 4,
    ["ex-used-auog-music"] = 4,
    ["ex-used-auog-lard"] = 4,
    ["phytoplankton"] = 3,
    ["jerky-to-phytoplankton"] = 2,
    ["breed-fish-egg-1"] = 3,
    ["breed-fish-egg-2"] = 3,
    ["breed-fish-egg-3"] = 3,
    ["breed-fish-egg-4"] = 3,
    ["breed-fish-egg-1-doused"] = 3,
    ["breed-fish-egg-2-doused"] = 3,
    ["breed-fish-egg-3-doused"] = 3,
    ["breed-fish-egg-4-doused"] = 3,
    ["breed-fish-1"] = 6,
    ["breed-fish-2"] = 6,
    ["breed-fish-3"] = 6,
    ["breed-fish-4"] = 6,
    ["breed-fish-1-agressive-selection"] = 6,
    ["breed-fish-2-agressive-selection"] = 6,
    ["breed-fish-3-agressive-selection"] = 6,
    ["breed-fish-4-agressive-selection"] = 6,
    ["full-render-fish"] = 4,
    ["full-render-fish-laser"] = 4,
    ["full-render-fish-music"] = 4,
    ["full-render-fish-lard"] = 4,
    ["ralesia-1"] = 4,
    ["ralesia-2"] = 4,
    ["ralesia-3"] = 4,
    ["ralesia-4"] = 4,
    ["ralesia-1-hydrogen-burn"] = 4,
    ["ralesia-2-hydrogen-burn"] = 4,
    ["ralesia-3-hydrogen-burn"] = 4,
    ["ralesia-4-hydrogen-burn"] = 4,
    ["cottongut-cub-1"] = 2,
    ["cottongut-cub-2"] = 2,
    ["cottongut-cub-3"] = 2,
    ["cottongut-cub-4"] = 2,
    ["caged-cottongut-1"] = 5,
    ["caged-cottongut-2"] = 5,
    ["caged-cottongut-3"] = 5,
    ["caged-cottongut-4"] = 5,
    ["caged-cottongut-1-cannibal"] = 5,
    ["caged-cottongut-2-cannibal"] = 5,
    ["caged-cottongut-3-cannibal"] = 5,
    ["caged-cottongut-4-cannibal"] = 5,
    ["cottongut-mature-basic-01"] = 8,
    ["full-render-cottongut"] = 3,
    ["full-render-cottongut-laser"] = 3,
    ["full-render-cottongut-music"] = 3,
    ["full-render-cottongut-lard"] = 3,
    ["kicalk-1"] = 4,
    ["kicalk-2"] = 4,
    ["kicalk-3"] = 4,
    ["kicalk-4"] = 4,
    ["kicalk-5"] = 4,
    ["kicalk-1-dry"] = 4,
    ["kicalk-2-dry"] = 4,
    ["kicalk-3-dry"] = 4,
    ["kicalk-4-dry"] = 4,
    ["kicalk-5-dry"] = 4,
    ["kicalk-1-saline"] = 4,
    ["kicalk-2-saline"] = 4,
    ["kicalk-3-saline"] = 4,
    ["kicalk-4-saline"] = 4,
    ["kicalk-5-saline"] = 4,
    ["kicalk-1-rotation"] = 4,
    ["kicalk-2-rotation"] = 4,
    ["kicalk-3-rotation"] = 4,
    ["kicalk-4-rotation"] = 4,
    ["kicalk-5-rotation"] = 4,
    ["fawogae-1"] = 3,
    ["fawogae-2"] = 3,
    ["fawogae-3"] = 3,
    ["fawogae-4"] = 3,
    ["fawogae-5"] = 3,
    ["fawogae-1-nitrogen"] = 3,
    ["fawogae-2-nitrogen"] = 3,
    ["fawogae-3-nitrogen"] = 3,
    ["fawogae-4-nitrogen"] = 3,
    ["fawogae-5-nitrogen"] = 3,
    ["ulric-manure-1"] = 3,
    ["ulric-manure-2"] = 3,
    ["ulric-manure-3"] = 3,
    ["ulric-manure-4"] = 3,
    ["full-render-ulrics"] = 6,
    ["full-render-ulrics-laser"] = 6,
    ["full-render-ulrics-music"] = 6,
    ["full-render-ulrics-lard"] = 6,
    ["xyhiphoe-1"] = 3,
    ["xyhiphoe-2"] = 3,
    ["xyhiphoe-3"] = 3,
    ["xyhiphoe-4"] = 3,
    ["xyhiphoe-1-hot-cold"] = 3,
    ["xyhiphoe-2-hot-cold"] = 3,
    ["xyhiphoe-3-hot-cold"] = 3,
    ["xyhiphoe-4-hot-cold"] = 3,
    ["full-render-xyhiphoe"] = 4,
    ["full-render-xyhiphoe-laser"] = 4,
    ["full-render-xyhiphoe-music"] = 4,
    ["full-render-xyhiphoe-lard"] = 4,
    ["sea-sponge-1"] = 2,
    ["sea-sponge-2"] = 2,
    ["sea-sponge-1-no-zonga"] = 2,
    ["sea-sponge-2-no-zonga"] = 2,
    ["korlex-1"] = 3,
    ["korlex-2"] = 3,
    ["korlex-3"] = 3,
    ["korlex-4"] = 3,
    ["korlex-1-slowed"] = 3,
    ["korlex-2-slowed"] = 3,
    ["korlex-3-slowed"] = 3,
    ["korlex-4-slowed"] = 3,
    ["full-render-kor"] = 4,
    ["full-render-kor-laser"] = 4,
    ["full-render-kor-music"] = 4,
    ["full-render-kor-lard"] = 4,
    ["zipir-eggs-1"] = 4,
    ["zipir-eggs-2"] = 4,
    ["zipir-eggs-3"] = 4,
    ["zipir-eggs-4"] = 4,
    ["zipir-eggs-5"] = 4,
    ["zipir-eggs-1-trits-gen"] = 4,
    ["zipir-eggs-2-trits-gen"] = 4,
    ["zipir-eggs-3-trits-gen"] = 4,
    ["zipir-eggs-4-trits-gen"] = 4,
    ["zipir-eggs-5-trits-gen"] = 4,
    ["zipir-a-1"] = 4,
    ["zipir-a-2"] = 4,
    ["zipir-a-3"] = 4,
    ["zipir-a-4"] = 4,
    ["zipir-a-5"] = 4,
    ["zipir-a-6"] = 4,
    ["zipir-a-1-suicide"] = 4,
    ["zipir-a-2-suicide"] = 4,
    ["zipir-a-3-suicide"] = 4,
    ["zipir-a-4-suicide"] = 4,
    ["zipir-a-5-suicide"] = 4,
    ["zipir-a-6-suicide"] = 4,
    ["full-render-zipir"] = 2,
    ["full-render-zipir-laser"] = 2,
    ["full-render-zipir-music"] = 2,
    ["full-render-zipir-lard"] = 2,
    ["tuuphra-1"] = 8,
    ["tuuphra-2"] = 8,
    ["tuuphra-3"] = 8,
    ["tuuphra-4"] = 8,
    ["tuuphra-1-fungicide"] = 8,
    ["tuuphra-2-fungicide"] = 8,
    ["tuuphra-3-fungicide"] = 8,
    ["tuuphra-4-fungicide"] = 8,
    ["arqad-filled-honeycomb-1"] = 4,
    ["arqad-filled-honeycomb-2"] = 4,
    ["arqad-filled-honeycomb-3"] = 4,
    ["arqad-filled-honeycomb-4"] = 4,
    ["arqad-egg-nests-1"] = 3,
    ["arqad-egg-nests-2"] = 3,
    ["arqad-egg-nests-3"] = 3,
    ["arqad-egg-nests-4"] = 3,
    ["caged-arqad-1"] = 2,
    ["caged-arqad-2"] = 2,
    ["caged-arqad-3"] = 2,
    ["caged-arqad-4"] = 2,
    ["caged-arqad-5"] = 2,
    ["trits-1"] = 2,
    ["trits-2"] = 2,
    ["trits-3"] = 2,
    ["trits-4"] = 2,
    ["trits-1-dc"] = 2,
    ["trits-2-dc"] = 2,
    ["trits-3-dc"] = 2,
    ["trits-4-dc"] = 2,
    ["yotoi-1"] = 4,
    ["yotoi-2"] = 4,
    ["yotoi-3"] = 4,
    ["yotoi-4"] = 4,
    ["yotoi-1-free-leaves"] = 4,
    ["yotoi-2-free-leaves"] = 4,
    ["yotoi-3-free-leaves"] = 4,
    ["yotoi-4-free-leaves"] = 4,
    ["yotoi-2-nutrient"] = 4,
    ["yotoi-3-nutrient"] = 4,
    ["yotoi-4-nutrient"] = 4,
    ["rennea-1"] = 5,
    ["rennea-2"] = 5,
    ["rennea-3"] = 5,
    ["rennea-4"] = 5,
    ["rennea-1-deadhead"] = 5,
    ["rennea-2-deadhead"] = 5,
    ["rennea-3-deadhead"] = 5,
    ["rennea-4-deadhead"] = 5,
    ["rennea-1-hydrophile"] = 5,
    ["rennea-2-hydrophile"] = 5,
    ["rennea-3-hydrophile"] = 5,
    ["rennea-4-hydrophile"] = 5,
    ["grod-1"] = 6,
    ["grod-2"] = 6,
    ["grod-3"] = 6,
    ["grod-4"] = 6,
    ["grod-1-pressured"] = 6,
    ["grod-2-pressured"] = 6,
    ["grod-3-pressured"] = 6,
    ["grod-4-pressured"] = 6,
    ["grod-1-dry"] = 6,
    ["grod-2-dry"] = 6,
    ["grod-3-dry"] = 6,
    ["grod-4-dry"] = 6,
    ["bedding"] = 2,
    ["bedding-improve"] = 2,
    ["kicalk-dry-bedding"] = 2,
    ["full-render-mukmoux"] = 4,
    ["full-render-mukmoux-laser"] = 4,
    ["full-render-mukmoux-music"] = 4,
    ["full-render-mukmoux-lard"] = 4,
    ["mukmoux-manure-1"] = 3,
    ["mukmoux-manure-2"] = 3,
    ["mukmoux-manure-3"] = 3,
    ["mukmoux-manure-4"] = 3,
    ["mukmoux-manure-1-mukmoux-turd"] = 3,
    ["mukmoux-manure-2-mukmoux-turd"] = 3,
    ["mukmoux-manure-3-mukmoux-turd"] = 3,
    ["mukmoux-manure-4-mukmoux-turd"] = 3,
    ["cadaveric-arum-1"] = 8,
    ["cadaveric-arum-2"] = 8,
    ["cadaveric-arum-3"] = 8,
    ["cadaveric-arum-4"] = 8,
    ["cadaveric-arum-1-soil"] = 8,
    ["cadaveric-arum-2-soil"] = 8,
    ["cadaveric-arum-3-soil"] = 8,
    ["cadaveric-arum-4-soil"] = 8,
    ["cadaveric-arum-1-msa"] = 8,
    ["cadaveric-arum-2-msa"] = 8,
    ["cadaveric-arum-3-msa"] = 8,
    ["cadaveric-arum-4-msa"] = 8,
    ["guar-1"] = 2,
    ["guar-2"] = 2,
    ["guar-3"] = 2,
    ["guar-4"] = 2,
    ["guar-1-guarpulse"] = 2,
    ["guar-2-guarpulse"] = 2,
    ["guar-3-guarpulse"] = 2,
    ["guar-4-guarpulse"] = 2,
    ["guar-1-aquaguar"] = 2,
    ["guar-2-aquaguar"] = 2,
    ["guar-3-aquaguar"] = 2,
    ["guar-4-aquaguar"] = 2,
    ["bhoddos-spore"] = 2,
    ["bhoddos-spore-upgraded"] = 2,
    ["bhoddos-1"] = 2,
    ["bhoddos-2"] = 2,
    ["bhoddos-3"] = 2,
    ["bhoddos-4"] = 2,
    ["bhoddos-1-meltdown"] = 2,
    ["bhoddos-2-meltdown"] = 2,
    ["bhoddos-3-meltdown"] = 2,
    ["bhoddos-4-meltdown"] = 2,
    ["bhoddos-1-exoenzymes"] = 2,
    ["bhoddos-2-exoenzymes"] = 2,
    ["bhoddos-3-exoenzymes"] = 2,
    ["bhoddos-4-exoenzymes"] = 2,
    ["phagnot-mature-basic-01"] = 3,
    ["phagnot-1"] = 2,
    ["phagnot-2"] = 2,
    ["phagnot-3"] = 2,
    ["phagnot-4"] = 2,
    ["phagnot-1-kicalk"] = 2,
    ["phagnot-2-kicalk"] = 2,
    ["phagnot-3-kicalk"] = 2,
    ["phagnot-4-kicalk"] = 2,
    ["full-render-phagnots"] = 5,
    ["full-render-phagnots-laser"] = 5,
    ["full-render-phagnots-music"] = 5,
    ["full-render-phagnots-lard"] = 5,
    ["arthurian-egg-incubation-01"] = 3,
    ["arthurian-grow-01"] = 3,
    ["arthurian-cannibalism"] = 3,
    ["arthurian-maturing-1"] = 5,
    ["arthurian-maturing-2"] = 5,
    ["arthurian-maturing-3"] = 5,
    ["arthurian-maturing-4"] = 5,
    ["arthurian-maturing-1-abacus"] = 5,
    ["arthurian-maturing-2-abacus"] = 5,
    ["arthurian-maturing-3-abacus"] = 5,
    ["arthurian-maturing-4-abacus"] = 5,
    ["full-render-arthurian"] = 5,
    ["full-render-arthurian-laser"] = 5,
    ["full-render-arthurian-music"] = 5,
    ["full-render-arthurian-lard"] = 5,
    ["dhilmos-1"] = 5,
    ["dhilmos-2"] = 5,
    ["dhilmos-3"] = 5,
    ["dhilmos-4"] = 5,
    ["dhilmos-1-cover"] = 5,
    ["dhilmos-2-cover"] = 5,
    ["dhilmos-3-cover"] = 5,
    ["dhilmos-4-cover"] = 5,
    ["dhilmos-1-skimmer"] = 5,
    ["dhilmos-2-skimmer"] = 5,
    ["dhilmos-3-skimmer"] = 5,
    ["dhilmos-4-skimmer"] = 5,
    ["dhilmos-1-double-intake"] = 5,
    ["dhilmos-2-double-intake"] = 5,
    ["dhilmos-3-double-intake"] = 5,
    ["dhilmos-4-double-intake"] = 5,
    ["full-render-dhilmoss"] = 3,
    ["full-render-dhilmoss-laser"] = 3,
    ["full-render-dhilmoss-music"] = 3,
    ["full-render-dhilmoss-lard"] = 3,
    ["Scrondrix-Manure-1"] = 3,
    ["Scrondrix-Manure-2"] = 3,
    ["Scrondrix-Manure-3"] = 3,
    ["Scrondrix-Manure-4"] = 3,
    ["full-render-scrondrixs"] = 6,
    ["full-render-scrondrixs-laser"] = 6,
    ["full-render-scrondrixs-music"] = 6,
    ["full-render-scrondrixs-lard"] = 6,
    ["dingrits-1"] = 3,
    ["dingrits-2"] = 3,
    ["dingrits-3"] = 3,
    ["dingrits-4"] = 3,
    ["dingrits-1-training"] = 3,
    ["dingrits-2-training"] = 3,
    ["dingrits-3-training"] = 3,
    ["dingrits-4-training"] = 3,
    ["full-render-dingrits"] = 5,
    ["full-render-dingrits-laser"] = 5,
    ["full-render-dingrits-music"] = 5,
    ["full-render-dingrits-lard"] = 5,
    ["ex-used-dingrits"] = 5,
    ["ex-used-dingrits-laser"] = 5,
    ["ex-used-dingrits-music"] = 5,
    ["ex-used-dingrits-lard"] = 5,
    ["cridren-1"] = 2,
    ["cridren-2"] = 2,
    ["cridren-3"] = 2,
    ["cridren-4"] = 2,
    ["cridren-1-neural-cranio"] = 2,
    ["cridren-2-neural-cranio"] = 2,
    ["cridren-3-neural-cranio"] = 2,
    ["cridren-4-neural-cranio"] = 2,
    ["adrenal-cortex"] = 2,
    ["simik-poop-1"] = 4,
    ["simik-poop-2"] = 4,
    ["simik-poop-3"] = 4,
    ["simik-poop-4"] = 4,
    ["phadai-pup-1"] = 6,
    ["phadai-pup-2"] = 6,
    ["phadai-pup-3"] = 6,
    ["phadai-pup-4"] = 6,
    ["phadai-pup-5"] = 6,
    ["phadai-pup-6"] = 6,
    ["phadai-pup-7"] = 6,
    ["full-render-phadais"] = 7,
    ["full-render-phadais-laser"] = 7,
    ["full-render-phadais-music"] = 7,
    ["full-render-phadais-lard"] = 7,
    ["full-render-num"] = 3,
    ["full-render-num-laser"] = 3,
    ["full-render-num-music"] = 3,
    ["full-render-num-lard"] = 3,
    ["vonix-cub-1"] = 3,
    ["vonix-cub-2"] = 3,
    ["vonix-cub-3"] = 3,
    ["vonix-direct-raising"] = 3,
    ["vonix-raising-1"] = 8,
    ["vonix-raising-2"] = 8,
    ["vonix-raising-3"] = 8,
    ["vonix-raising-1-cancer"] = 8,
    ["vonix-raising-2-cancer"] = 8,
    ["vonix-raising-3-cancer"] = 8,
    ["full-render-vonix"] = 6,
    ["full-render-vonix-laser"] = 6,
    ["full-render-vonix-music"] = 6,
    ["full-render-vonix-lard"] = 6,
    ["zungror-raising-1"] = 5,
    ["zungror-raising-2"] = 5,
    ["zungror-raising-3"] = 5,
    ["zungror-raising-1-with-funny-rock"] = 5,
    ["zungror-raising-2-with-funny-rock"] = 5,
    ["zungror-raising-3-with-funny-rock"] = 5,
    ["caged-xeno-1"] = 4,
    ["caged-xeno-2"] = 4,
    ["caged-xeno-3"] = 4,
    ["caged-xeno-4"] = 4,
    ["caged-xeno-1-dna-polymerase"] = 4,
    ["caged-xeno-2-dna-polymerase"] = 4,
    ["caged-xeno-3-dna-polymerase"] = 4,
    ["caged-xeno-4-dna-polymerase"] = 4,
    ["full-render-xenos"] = 3,
    ["full-render-xenos-laser"] = 3,
    ["full-render-xenos-music"] = 3,
    ["full-render-xenos-lard"] = 3,
}

local building_energy_multipliers = {
    ["assembling-machine"] = {
        ["soil-extractor-mk01"] = 2,
        ["soil-extractor-mk02"] = 2,
        ["soil-extractor-mk03"] = 2,
        ["soil-extractor-mk04"] = 2,
        ["clay-pit-mk01"] = 2,
        ["clay-pit-mk02"] = 2,
        ["clay-pit-mk03"] = 2,
        ["clay-pit-mk04"] = 2,
        ["micro-mine-mk01"] = 3,
        ["micro-mine-mk02"] = 3,
        ["micro-mine-mk03"] = 3,
        ["micro-mine-mk04"] = 3,
        ["hpf"] = 1.5,
        ["hpf-mk02"] = 1.5,
        ["hpf-mk03"] = 1.5,
        ["hpf-mk04"] = 1.5,
        ["washer"] = 1.5,
        ["washer-mk02"] = 1.5,
        ["washer-mk03"] = 1.5,
        ["washer-mk04"] = 1.5,
        ["distilator"] = 1.5,
        ["distilator-mk02"] = 1.5,
        ["distilator-mk03"] = 1.5,
        ["distilator-mk04"] = 1.5,
        ["jaw-crusher"] = 1.5,
        ["jaw-crusher-mk02"] = 1.5,
        ["jaw-crusher-mk03"] = 1.5,
        ["jaw-crusher-mk04"] = 1.5,
        ["slaughterhouse-mk01"] = 2,
        ["slaughterhouse-mk02"] = 2,
        ["slaughterhouse-mk03"] = 2,
        ["slaughterhouse-mk04"] = 2,
        ["fwf-mk01"] = 5,
        ["fwf-mk02"] = 5,
        ["fwf-mk03"] = 5,
        ["fwf-mk04"] = 5,
        ["moss-farm-mk01"] = 4,
        ["moss-farm-mk02"] = 4,
        ["moss-farm-mk03"] = 4,
        ["moss-farm-mk04"] = 4,
        ["sap-extractor-mk01"] = 5,
        ["sap-extractor-mk02"] = 5,
        ["sap-extractor-mk03"] = 5,
        ["sap-extractor-mk04"] = 5,
        ["moondrop-greenhouse-mk01"] = 6,
        ["moondrop-greenhouse-mk02"] = 6,
        ["moondrop-greenhouse-mk03"] = 6,
        ["moondrop-greenhouse-mk04"] = 6,
        ["seaweed-crop-mk01"] = 8,
        ["seaweed-crop-mk02"] = 8,
        ["seaweed-crop-mk03"] = 8,
        ["seaweed-crop-mk04"] = 8,
        ["vrauks-paddock-mk01"] = 8,
        ["vrauks-paddock-mk02"] = 8,
        ["vrauks-paddock-mk03"] = 8,
        ["vrauks-paddock-mk04"] = 8,
        ["fish-farm-mk01"] = 3,
        ["fish-farm-mk02"] = 3,
        ["fish-farm-mk03"] = 3,
        ["fish-farm-mk04"] = 3,
        ["plankton-farm"] = 2,
        ["plankton-farm-mk02"] = 2,
        ["plankton-farm-mk03"] = 2,
        ["plankton-farm-mk04"] = 2,
        ["prandium-lab-mk01"] = 5,
        ["prandium-lab-mk02"] = 5,
        ["prandium-lab-mk03"] = 5,
        ["prandium-lab-mk04"] = 5,
        ["ralesia-plantation-mk01"] = 4,
        ["kicalk-plantation-mk01"] = 4,
        ["kicalk-plantation-mk02"] = 4,
        ["kicalk-plantation-mk03"] = 4,
        ["kicalk-plantation-mk04"] = 4,
        ["fawogae-plantation-mk01"] = 3,
        ["fawogae-plantation-mk02"] = 3,
        ["fawogae-plantation-mk03"] = 3,
        ["fawogae-plantation-mk04"] = 3,
        ["xyhiphoe-pool-mk01"] = 3,
        ["xyhiphoe-pool-mk02"] = 3,
        ["xyhiphoe-pool-mk03"] = 3,
        ["xyhiphoe-pool-mk04"] = 3,
        ["sponge-culture-mk01"] = 2,
        ["sponge-culture-mk02"] = 2,
        ["sponge-culture-mk03"] = 2,
        ["sponge-culture-mk04"] = 2,
        ["ez-ranch-mk01"] = 3,
        ["ez-ranch-mk02"] = 3,
        ["ez-ranch-mk03"] = 3,
        ["ez-ranch-mk04"] = 3,
        ["zipir-reef-mk01"] = 4,
        ["zipir-reef-mk02"] = 4,
        ["zipir-reef-mk03"] = 4,
        ["zipir-reef-mk04"] = 4,
        ["tuuphra-plantation-mk01"] = 8,
        ["tuuphra-plantation-mk02"] = 8,
        ["tuuphra-plantation-mk03"] = 8,
        ["tuuphra-plantation-mk04"] = 8,
        ["arqad-hive-mk01"] = 2,
        ["arqad-hive-mk02"] = 2,
        ["arqad-hive-mk03"] = 2,
        ["arqad-hive-mk04"] = 2,
        ["trits-reef-mk01"] = 2,
        ["trits-reef-mk02"] = 2,
        ["trits-reef-mk03"] = 2,
        ["trits-reef-mk04"] = 2,
        ["yotoi-aloe-orchard-mk01"] = 3,
        ["yotoi-aloe-orchard-mk02"] = 3,
        ["yotoi-aloe-orchard-mk03"] = 3,
        ["yotoi-aloe-orchard-mk04"] = 3,
        ["rennea-plantation-mk01"] = 5,
        ["rennea-plantation-mk02"] = 5,
        ["rennea-plantation-mk03"] = 5,
        ["rennea-plantation-mk04"] = 5,
        ["grods-swamp-mk01"] = 6,
        ["grods-swamp-mk02"] = 6,
        ["grods-swamp-mk03"] = 6,
        ["grods-swamp-mk04"] = 6,
        ["cadaveric-arum-mk01"] = 8,
        ["cadaveric-arum-mk02"] = 8,
        ["cadaveric-arum-mk03"] = 8,
        ["cadaveric-arum-mk04"] = 8,
        ["guar-gum-plantation"] = 2,
        ["guar-gum-plantation-mk02"] = 2,
        ["guar-gum-plantation-mk03"] = 2,
        ["guar-gum-plantation-mk04"] = 2,
        ["bhoddos-culture-mk01"] = 2,
        ["bhoddos-culture-mk02"] = 2,
        ["bhoddos-culture-mk03"] = 2,
        ["bhoddos-culture-mk04"] = 2,
        ["phagnot-corral-mk01"] = 2,
        ["phagnot-corral-mk02"] = 2,
        ["phagnot-corral-mk03"] = 2,
        ["phagnot-corral-mk04"] = 2,
        ["arthurian-pen-mk01"] = 5,
        ["arthurian-pen-mk02"] = 5,
        ["arthurian-pen-mk03"] = 5,
        ["arthurian-pen-mk04"] = 5,
        ["dhilmos-pool-mk01"] = 5,
        ["dhilmos-pool-mk02"] = 5,
        ["dhilmos-pool-mk03"] = 5,
        ["dhilmos-pool-mk04"] = 5,
        ["dingrits-pack-mk01"] = 3,
        ["dingrits-pack-mk02"] = 3,
        ["dingrits-pack-mk03"] = 3,
        ["dingrits-pack-mk04"] = 3,
        ["cridren-enclosure-mk01"] = 2,
        ["cridren-enclosure-mk02"] = 2,
        ["cridren-enclosure-mk03"] = 2,
        ["cridren-enclosure-mk04"] = 2,
        ["vonix-den-mk01"] = 8,
        ["vonix-den-mk02"] = 8,
        ["vonix-den-mk03"] = 8,
        ["vonix-den-mk04"] = 8,
        ["zungror-lair-mk01"] = 5,
        ["zungror-lair-mk02"] = 5,
        ["zungror-lair-mk03"] = 5,
        ["zungror-lair-mk04"] = 5,
        ["xenopen-mk01"] = 4,
        ["xenopen-mk02"] = 4,
        ["xenopen-mk03"] = 4,
        ["xenopen-mk04"] = 4,
    },
}

local UNIT_MULTIPLIERS = {
    [""] = 1,
    ["k"] = 1000,
    ["K"] = 1000,
    ["M"] = 1000000,
    ["G"] = 1000000000,
    ["T"] = 1000000000000,
    ["P"] = 1000000000000000,
    ["E"] = 1000000000000000000,
    ["Z"] = 1000000000000000000000,
    ["Y"] = 1000000000000000000000000
}

--- Convert an energy string to a numerical value (or nil if the string is incorrectly formatted)
function get_energy_value(energy_string)
    if type(energy_string) == "string" then
        local v, _, mult, unit = string.match(energy_string, "([%-+]?[0-9]*%.?[0-9]+)((%D*)([WJ]))")
        local value = tonumber(v)
        if value and mult and UNIT_MULTIPLIERS[mult] then
            value = value * UNIT_MULTIPLIERS[mult]
            return value
        end
    end
    return nil
end

--- Adds a string to a recipe/entity description
function add_to_description(group, thing, localised_string)
    if group == "recipe" then
        thing.localised_description = {"?", {"", {"recipe-description." .. thing.name}, "\n", localised_string}, localised_string }
    elseif group == "entity" then
        thing.localised_description = {"?", {"", {"entity-description." .. thing.name}, "\n", localised_string}, localised_string }
    end
end

-- Increases speeds for recipes and energy consumption for buildings according to the above tables
if settings.startup["pysimple-faster-recipes"].value then
    for name,mult in pairs(recipe_speed_multipliers) do
        local recipe = data.raw.recipe[name]
        if recipe then
            if recipe.energy_required then      
                recipe.energy_required = recipe.energy_required / mult
                add_to_description("recipe", recipe, {"description.pysimple-speed-mult", "x"..mult})
            end
        elseif debug_errors then
            error("invalid recipe name: "..name)
        end
    end
    for kind,buildings in pairs(building_energy_multipliers) do
        for name,mult in pairs(buildings) do
            local building = data.raw[kind][name]
            if building then
                local energy_value = get_energy_value(building.energy_usage)
                if energy_value then
                    building.energy_usage = energy_value * mult .. "W"
                    add_to_description("entity", building, {"description.pysimple-consumption-mult", "x"..mult}) -- TODO: Should these description addons be toggleable via a setting?
                end
            elseif debug_errors then
                error("invalid entity name: "..name)
            end
        end
    end
end
